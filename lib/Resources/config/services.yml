imports:
    - { resource: services/security.yml }
    - { resource: services/registration.yml }
    - { resource: services/reset_password.yml }

parameters:
    vs_users.api_token.domain: '%env(API_TOKEN_DOMAIN)%'
    vs_user.profile_pictures_dir: '%kernel.project_dir%/public/uploads/profile_pictures'

services:
    VS\UsersBundle\Controller\ProfileController:
        tags: ['controller.service_arguments']
        autowire: false
        
    VS\UsersBundle\Repository\UsersRepository: '@vs_users.repository.users'
    
    vs_users.form.type.users:
        class: VS\UsersBundle\Form\UserCrudFormType
        tags:
            - { name: form.type, alias: 'vs_users_users' }
        arguments: ['@doctrine']

    vs_users.command.create_user:
        class: VS\UsersBundle\Command\CreateUserCommand
        arguments:
            - '@vs_users.manager.user'
        tags:
            - { name: console.command }
